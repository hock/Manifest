/* Manifest Default Stylings */

/* General Styles */
@media only screen and (min-device-width: 768px) {
	#sidewrap {
		width:29rem;
		#sidepanel{width:27rem;}
	}
	#manifestbar{width:25rem;}
	#view-wrapper{width:calc(100% - 29rem);}
}
@media only screen {
	#loader { display:none; position:absolute;z-index:50000;height:100%;width:100%;text-align:center;background-color: var(--m-purple-bright); left:0; top:0;
		#loadermessage { color:#fff; a{color:#fff;text-decoration:underline}}
		h1 { color:#fff; position:relative;margin:20% auto 2.5rem;height:0;padding-top:70px;text-align:center;background:url("../images/logo.svg") center top no-repeat;} 
		h2 { color:#eee; font-size:1em}
	} 
	
	html { font-family: "Roboto", Arial, Helvetica, sans-serif; font-weight: normal; }
	body { 
		font-family: "Roboto", Arial, Helvetica, sans-serif; font-weight: normal; font-size: 1em; margin: 0; width:100%; min-width: 760px; height: 100%; max-height:100%; 
		color: var(--main-text); background-color: var(--primary-bg); overflow:hidden;
		--m-purple-bright:#4d34db;--m-purple-light:#cfbcff;--m-purple-alt:#5e45ec;--m-purple-control:#4d34db;--m-purple-text:#fff;--m-grey:#e5e5ea;--m-grey-trans:#e5e5eaE6;--m-grey-border:#aca9b9;--main-bg:#e5e5ea;--primary-bg:#ffffff;--primary-bg-trans:#ffffffF2;--primary-bg-trans-2:#ffffffAA;--controls-bg:#ffffff;--inverse-bg:#ffffff;--alt-bg-1:#edebfb;--alt-bg-2:#f6f5fd;--main-text:#000000;--primary-text:#000000;--secondary-text:#333333;--tertiary-text:#999999;--disabled-text:#cccccc;--bright-border:#dfdbf9;--sep-border:#dddddd;--bright-color:#ffffff;--link-color:#4d34db;--link-highlight-color:#DC143C;--overlay-bg:#000000dd;--overlay-text:#ffffff;--map-bg:#c4d9f0;--m-intro-secondary:#e5e5ea;--sample-list-header:#666666;--sample-list-text:#999999;--viz-bg: #21222c;--zebra: #2a2c37;--viz-label-text:#aca9b9;

		&.dark {
			--m-purple-bright:#4d34db;--m-purple-light:#cfbcff;--m-purple-alt:#5e45ec;--m-purple-control:#ffffff;--m-purple-text:#fff;--m-grey:#555555;--m-grey-trans:#555555E6;--m-grey-border:#444444;--main-bg:#292929;--primary-bg:#353535;--primary-bg-trans:#353535F2;--primary-bg-trans-2:#353535AA;--controls-bg:#121212;--inverse-bg:#121212;--alt-bg-1:#4c4c4c;--alt-bg-2:#383838;--main-text:#aeaeae;--primary-text:#aeaeae;--secondary-text:#888888;--tertiary-text:#666666;--disabled-text:#666666;--bright-border:#555555;--sep-border:#555555;--bright-color:#000000;--link-color:#b38af5;--link-highlight-color:#ffffff;--overlay-bg:#000000dd;--overlay-text:#ffffff;--map-bg:#000000;--m-intro-secondary:#232323;--sample-list-header:#999999;--sample-list-text:#777777;--viz-bg: #21222c;--zebra: #2a2c37;--viz-label-text:#888888;
		}
		&:is(.storymap, .embedmap) { #colorscheme-switch {display:none;} } 
	}
	
	h1 { font-weight: bold; font-size: 2em;color: var(--tertiary-text);} 
	h3 { font-weight: bold; margin:0; padding:1rem 0 0 0;}
	a, a:visited {text-decoration: none; color:var(--link-color); }
	a:hover { text-decoration: underline; color:var(--link-highlight-color); }
	textarea, input { outline: none; font-family: "Roboto", Arial, Helvetica, sans-serif; font-weight: normal; }
	button { font-family: "Roboto", Arial, Helvetica, sans-serif; font-weight: normal; }
	select { cursor:pointer; background-color:var(--controls-bg); font-family: "Roboto", Arial, Helvetica, sans-serif; font-weight: normal; }
	select:-moz-focusring{color:transparent;text-shadow:0 0 0 #000;}
	
	/* Common Classes */
	.clear { clear:both; }
	.closed, .dummy { display:none !important; }
	
	body.fullscreen {
		#view-wrapper { width: 100%; }
		#messages { left:18rem; width:calc(100% - 18rem - 9rem); }
		#sidewrap { background:none; box-shadow:none; border:none; }
		#sidepanel {visibility: hidden; overflow:hidden;}
		.leaflet-control-zoomhome {margin-top:6rem; }	
		&.launcher { 
			.leaflet-left .leaflet-control {margin-left: 29rem; } 
			.leaflet-control-zoomhome {margin-top:1rem; }
		}
	}
	
	#sidewrap {
		height:100%;background:var(--main-bg); border-right:1px solid var(--main-bg);position:absolute;top:0;left:0;z-index:10001;box-shadow:0.25rem 0.25rem 1rem rgba(0,0,0,0.1);	
		#sidepanel { 
			border-radius:0.25rem; position: absolute; top: 4rem; left: 0; bottom: 0; z-index:12000; margin:1rem; *height: 100%; overflow: auto; box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.05); overflow-wrap: break-word; background: var(--primary-bg);	
		} 
	}
	#manifestbar { 
		border-radius:0.25rem; position: absolute; top: 0; left: 0; margin:1rem; height:auto; padding:1rem 1rem 1rem 1rem; font-size:1.2rem; z-index:12500; box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2); overflow-x:scroll; background:var(--m-purple-bright); color:var(--m-purple-text); max-height: calc(100% - 4rem);
		#minfoheader {
			background:var(--m-purple-bright);position:sticky;top:-1rem;padding:1rem;margin:-1rem;
			#minfo { 
				cursor:pointer; margin-left:0.25rem; width:calc(100% - 4rem); display:inline-block; vertical-align:bottom; white-space: nowrap; overflow:hidden; text-overflow:ellipsis;font-family: "Roboto", Arial, Helvetica, sans-serif; font-weight: normal;
				&:hover { text-decoration: underline; }
			}
			#minfo-hamburger {cursor:pointer; width:1rem; vertical-align:baseline;
				&:hover { color:var(--m-purple-light);}
			}
		}

		#minfodetail { 
			padding: 0.1rem 1rem 0.5rem 1rem; margin: 1rem -1rem -1rem -1rem; font-size:1rem; color:var(--secondary-text); background:var(--primary-bg);
			#mtagline { margin: -1px -1rem 0 -1rem; padding: 1.25rem; background:var(--alt-bg-1); line-height:1.2rem;}
			
			#minfomenu { 
				border-bottom:1px solid var(--sep-border); padding:0.5rem 0; margin-bottom:0.5rem;
				.spacer { border-top:1px solid var(--sep-border); padding:0.25rem 0 0.5rem 0; margin-top:0.25rem; }
				&.collected-description { font-size:0.9rem;background:var(--alt-bg-1);padding:0 1.25rem 1rem 1.25rem;margin:0 -1rem; }
			}
			.minfo-menu-item { 
				display:block; padding:0.4rem 0.2rem; cursor: pointer; text-decoration:none; color:var(--secondary-text);
				.minfo-icon { display:block; float:left; width:2rem; margin-top:0.35rem; font-size:1.5rem; margin-right: 0.75rem; text-align: center; color:var(--m-purple-alt);}
				.minfo-menu-label { display:block; }
				.minfo-menu-note { display:block; color:var(--tertiary-text); font-size:0.9rem;}
				&:hover { border-radius:0.5rem; background:var(--alt-bg-1); color:var(--primary-text); }
			}
			&.is-dragover { filter: brightness(70%); }
		}
	} 

	#view-wrapper { 
		background-color:var(--map-bg); overflow:hidden;  position: absolute; top: 0; right: 0; bottom: 0; *height:100%; 
		#map { position: absolute; top: 0; right: 0; bottom: 0; width:100%; *height:100%; background:var(--map-bg); }
		#vizwrap { width:100%; }
	}
	
	#fullscreen-modal { 
		background-color:var(--overlay-bg); position: absolute; top: 0; left: 0; margin:0; width: 100%; height: 100%; max-height:100%; z-index:50001; cursor:zoom-out; overflow:hidden;
		#full-modal { 
			position: absolute; top: 1rem; left: 1rem; bottom: 1rem; right:1rem; margin:0; width: calc(100vw - 2rem); height: calc(100% - 2rem);  max-height:100%; z-index:50001;  
			display:flex; flex-direction: column;

			#full-modal-image {
				box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2); background-position: center center; background-size:contain; background-repeat:no-repeat; width:100%; height:100%;
			}
			#full-modal-video {
				box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2); background-position: center center; width:100%; height:100%;
			}
			#full-modal-caption { color:var(--overlay-text); width:100%; margin:1rem auto; text-align:center; }
		} 
		#full-modal-left { color:var(--overlay-text);font-size:4rem;position:absolute;left:0;top:0;padding: calc(50vh - 2rem) 2rem 0 2rem; height: calc(50vh + 2rem);opacity:0.4; z-index:50002; cursor:pointer; &:hover {opacity:1;}}
		#full-modal-right { color:var(--overlay-text);font-size:4rem;position:absolute;right:0;top:0;padding: calc(50vh - 2rem) 2rem 0 2rem; height: calc(50vh + 2rem);opacity:0.4; z-index:50002; cursor:pointer; &:hover {opacity:1;}}		 
	} 	

	#manifestlist { 
		.manifest { position: relative; top: 0; margin:0; }
		.mheader { 
			position: sticky; top: 0; bottom:0; margin:0; z-index:1;
			.fa-globe-americas, .fa-globe-asia, .fa-globe-europe, .fa-globe-africa { cursor:pointer; margin-right:0.5rem;}
			.menu-options {
				float:right; display:inline-block;
				.share-button {  margin-left:0.25rem; opacity:0.6; cursor:pointer; &:hover { opacity:1;} }		
				.closemap { 
					cursor:pointer; opacity:0.6; margin-left:0.25rem; color:var(--overlay-text); 
					&:hover { opacity:1;}
				}
			}
		}	
		.mtitle { 
			padding:1rem; font-size:1rem; z-index:12000; border-bottom:1px solid var(--bright-border); font-weight:bold; background:var(--primary-bg); color:var(--main-text);
			&:hover { filter: brightness(120%); }
			a { text-decoration:none; max-width: calc(100% - 4.5rem); display: inline-block; white-space: nowrap; 
				vertical-align:middle; overflow:hidden; text-overflow:ellipsis; color:inherit;
				&:hover { text-decoration:underline; cursor:pointer;}
			}
			i { vertical-align:middle; width:1rem;}
		}
		.mdetails {
			.share-container { 
				.share-menu { list-style:none; padding: 0.5rem 1rem; margin:0; 
					span { color:var(--secondary-text); }
					li { display:inline-block; background:var(--primary-bg); padding:0.25rem 0.5rem; border-radius:0.5rem; cursor:pointer; opacity:0.8;
						&:hover { opacity:1; }
						.share-link { cursor:pointer; color:var(--link-color); &:hover { color:var(--link-highlight-color);}}
					}
				} 
			}
		}
		.mdescription { 
			font-size:1rem; padding:1rem; margin:0; line-height:1.2rem;
			color:var(--secondary-text); background:var(--primary-bg); border-bottom:1px solid var(--sep-border); 
			.cite { font-size: 0.8rem; background: var(--m-grey); border: thin solid var(--sep-border); border-radius: 0.25rem; margin-top:1rem; padding: 0.4rem; * { font-size:0.8rem;}}
			img, iframe { width:100%; }
			img + img { margin-top:0.25rem;}
			> p { padding:0; margin:0;}
			> p + p{margin-bottom:1rem;}
			blockquote{margin-left:0;margin-right:0;padding-left:0.4rem;padding-right:0.4rem;border-left:0.2rem solid var(--m-grey-border);}
			&:empty { padding:0;}
		
		}
		.mlist { list-style:none; margin:0; padding:0; }
		.mnode {
			padding:0.5rem 1rem; border-bottom:1px solid var(--sep-border); margin:0 auto; content-visibility:auto;
			&:focus { outline: none;}
			.node-dot { 
				cursor:pointer; height:1rem; min-width:1rem; border-radius:1rem; border:0.2rem solid; margin:0 0.2rem 0 0rem; padding:0 0.1rem; float:left; text-align:center; font-size:0.5rem; line-height:1rem; color:var(--overlay-text); border-color: var(--alt-bg-1); background:var(--alt-bg-1); 
				&:hover { filter:saturate(70%); }
			}
			.node-title { display:inline; font-size:1rem; line-height:1.5rem;}
			.node-place { font-size:0.9rem; margin:0.25rem 0; line-height:1.2rem;}
			.node-time { font-size:0.9rem; margin:0.25rem 0; line-height:1.2rem;}
			
			.node-details {
				margin:0.25rem 0; line-height:1.2rem;
				.category {
					display:block; font-size:0.8rem; color:var(--tertiary-text);
					.cat-link {display:inline-block; text-decoration:underline;cursor:pointer; margin-right: 0.25rem; cursor:pointer; color:var(--link-color); &:hover { color:var(--link-highlight-color);}}
					&.closed { display:none; .cat-link { display:none;} }
				}
				.measures { 
					display:block; font-size:0.8rem; color:var(--tertiary-text);
					.measure-link { display:inline-block; text-decoration:underline;cursor:pointer; margin-right: 0.25rem; cursor:pointer; color:var(--link-color); &:hover { color:var(--link-highlight-color);}}
					.measure-entry { display:inline-block; margin-right: 0.25rem; }

					.mtype:after { content: ": ";}
				}
			}	
			.node-images-wrap {
				margin:0.8rem 0;
				&:not(:has(*)) { margin:0; }
				.node-images { height: calc(100vh / 4); margin:0; position:relative; background:var(--inverse-bg); border-radius:0.25rem; 
					.ftimg { 
							object-fit:cover; object-position:center center; height:calc(100vh / 4); width:calc(100% - 2px); cursor:zoom-in; display:none; border: 1px solid var(--sep-border); border-radius:0.25rem;
							&:first-child{ display:block;}
					 }
 					&.multiple { 
						border-radius:0.25rem 0.25rem 0 0; 
						.ftimg { border-radius: 0.25rem 0.25rem 0 0; }
					}
				}
				.images-caption { text-overflow:ellipsis;white-space:nowrap;display:inline-block;overflow:hidden;height:auto;width:100%;font-size: 0.8rem;padding: 0.4rem 0 0 0; color:var(--tertiary-text);
					&:empty { display:none; }}
				.images-controls { display:flex;align-items:center;justify-content:center;background:var(--alt-bg-2);border:1px solid var(--sep-border);border-radius:0 0 0.2rem 0.2rem; }
				
				.images-box { position:relative; display: flex; align-items: center; justify-content: center; width:22rem; margin:0 auto; padding: 0.6rem 0; flex-basis:22rem; flex-wrap:wrap;
					.images-spot { font-size:0.6rem; margin:auto 0.2rem; cursor:pointer; padding: 0.2rem 0; color:var(--primary-text); opacity:0.6;
						&:hover { opacity:1; .fa-circle:before { content: "\f192"; } }
						&.selected { .fa-circle:before { content: "\f192"; } }
					}
				}
				.images-button { overflow:auto; padding:0 0.5rem; font-size:1.5rem; border:none; background:var(--alt-bg-2); color:var(--primary-text); opacity:0.6;
					&:hover { cursor:pointer; opacity:1; }
				}
			}
			.node-description { margin:0.25rem 0; line-height:1.1rem; font-size:0.9rem; color:var(--secondary-text);
				p { margin:0.5rem 0 0.5rem 0;}
				blockquote {
					margin-left:0; margin-right:0; padding-left: 0.4rem; padding-right: 0.4rem;
					border-left:0.2rem solid var(--sep-border);
				}
				ul { font-size:0.9rem; padding-left:1rem; list-style:disc;
					li { border:none; padding:0.25rem;}
				}
			}
			.node-sources { border-radius:0.25rem; padding:0.25rem; margin-top:0.75rem; color:var(--secondary-text);
				summary { font-size:0.9rem; cursor:pointer; outline: none; padding:0.2rem 0;}
				ol li p, ol li ol, ol li ul, ol li blockquote { display:inline; margin:0; padding:0;}
				ol { 
					counter-reset: list;
					list-style:square; margin:0 ; padding:0.2rem 0; font-size:0.9rem;
					li { margin:0; padding:0; border:none; width:auto; }
					> li + li { margin-top: 0.4rem;}
					> li {  
						list-style: none; margin:0; padding:0;
						a { word-break: break-all; }
						&:before { content: "[" counter(list, decimal) "] "; counter-increment: list; display:inline-block; vertical-align:top; margin-right:0.5rem; color:var(--secondary-text); }
					}
					&:empty { display:none;}
				}
			}
			ul { font-size:0.8rem; padding-left:0.5rem; list-style:disc;
				li { border:none; padding:0.25rem;}
			}
			img { width:100%; }
			iframe { width:100%; }
			.manifest-link {text-decoration:underline;cursor:pointer;}	
		}
	}

	#loadlistpanel { 
		#loadlist-group-samples, #loadlist-group-custom { display:flex; margin:0.25rem 0; padding: 0.5rem; background: var(--alt-bg-2); border-radius: 0.25rem;}
		#loadlist-group-samples { 
			margin-bottom:1rem;
			&.collected-samples { margin:1rem 0 0.5rem 0; }
			#samples-spacer {
				width:calc(100% - 3rem); height:calc(3.5rem + 2px); overflow:hidden;
			}
			#samples-previews { width:calc(100% - 3rem); height:auto;
			
				&.open {
					height:auto;max-height:calc(100% - 26rem);background:var(--alt-bg-1);border-radius:0.25rem;overflow-x:scroll;margin:calc(-0.5rem - 1px);padding:0.5rem;
					border:1px solid var(--sep-border);box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2); min-height:3rem;
					
					.sample-preview { display:block; background-color:var(--alt-bg-2); }
					.sample-preview-divider { display:block; }
				}
				&.open:not(.scroll) { position:fixed;width:24rem; }
				&.open.scroll { position:absolute;width:24rem; }
			    
				.sample-preview {
					width:calc(100% - 4rem); padding:0.25rem 0.25rem 0.25rem 3.5rem; border:1px solid var(--sep-border); margin:0.25rem 0;
					height:2.5rem; overflow:hidden; display:none; border-radius:0.25rem; background:var(--controls-bg);
					background-repeat: no-repeat; background-size:3rem 100%; background-position:left center; position:relative;
					.sample-title { font-size:1rem; overflow:hidden;white-space:nowrap;text-overflow:ellipsis; color:var(--sample-list-header);
						 user-select:none;-moz-user-select:none;-webkit-text-select:none;-webkit-user-select:none; }
					.sample-description { font-size:0.8rem; overflow:hidden;white-space:nowrap;text-overflow:ellipsis; color:var(--sample-list-text);
						 user-select:none;-moz-user-select:none;-webkit-text-select:none;-webkit-user-select:none; }
					.fa-star { position:absolute;left:0.75rem;top:0.75rem;color:var(--m-purple-bright);-webkit-text-stroke:1px var(--controls-bg);font-size:1.5rem;}
					&.selected { display:block;}
					&.loaded { filter: grayscale(100%); .sample-title { color:var(--disabled-text); } .sample-description { color:var(--disabled-text); } .fa-star { opacity:0.5; }}
					&:hover { background-color:var(--primary-bg);cursor:pointer;}
				}
				.sample-preview-divider { display:none; padding:0.25rem 0; hr { display:block;height:1px;border:0;border-top:1px solid var(--primary-bg);}}
			}
		}
		.launcher-load-text{margin-bottom:0.25rem;}
		.loadlist-group:nth-child(n+2){border-top:1px solid var(--sep-border);padding-top:0.5rem;}
		.custom-load-text {
			font-size:0.9rem;color:var(--tertiary-text);margin:1rem 0;
			a { color:var(--tertiary-text); text-decoration:underline;}
		}
	}
	#load-samples, #load-custom { width:100%; padding: .375rem .25rem .375rem .25rem; font-size: 1rem; font-weight: 400; line-height: 1.5; vertical-align: middle; border: 1px solid var(--sep-border); border-radius: .25rem; -webkit-appearance: none; -moz-appearance: none; appearance: none; outline: none; color: var(--secondary-text); background-color: var(--controls-bg); } 
	#load-samples-input, #load-custom-input { width:75%; padding: .375rem .25rem .375rem .25rem; font-size: 1rem; font-weight: 400; line-height: 1.5; vertical-align: middle; border: 1px solid var(--sep-border); border-radius: .25rem; -webkit-appearance: none; -moz-appearance: none; outline: none; display:none; color: var(--secondary-text); background-color: var(--controls-bg); } 
	#load-samples-btn, #load-custom-btn { width:3rem; display: inline-block; float:left; font-weight: 400; line-height: 1; text-align: center; text-decoration: none; vertical-align: middle; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; user-select: none; line-height:1.5; padding: 0; margin-left:0.25rem; font-size: 1.25rem; border-radius: 0.25rem; border:none; color: var(--m-purple-control); background:none; 
		&:hover { color:var(--overlay-text); background-color:var(--m-purple-bright);}
	}
	#open-collection-btn { width:calc(100% - 0.5rem); padding: .375rem .25rem .375rem .25rem; font-size: 1rem; font-weight: 400; line-height: 1.5; vertical-align: middle; border: 1px solid var(--m-purple-bright); border-radius: .25rem; -webkit-appearance: none; -moz-appearance: none; appearance: none; outline: none; background-color:var(--m-purple-bright);color:var(--overlay-text); text-align:center; cursor:pointer; margin-top:1rem; 
		a { text-decoration:none; color:var(--overlay-text); }
		&:hover { background-color:var(--m-purple-alt);border-color:var(--m-purple-alt); }
	}
	#load-custom-input { margin-left:0.25rem;}
	#loadlist-group-custom {
		#file-input { display: none;}
		#file-input-label { display: none;}
		&.url {
			#load-custom-input { display: inline-block;} 
			#load-custom { width: 20% }
			#file-input { display: none; }
			#file-input-label { display: none ;}
			#load-custom-btn { display: inline-block; }
		}
		&.file {
			#load-custom { width: 20% }
			#load-custom-input { display: none;} 
			#file-input { 
				display: inline-block; 
				&+label { background-color:var(--m-purple-bright);border-color:var(--m-purple-bright);color:var(--overlay-text); }
				&:focus + label, &.has-focus + label, &+ label:hover { background-color:var(--m-purple-alt);border-color:var(--m-purple-alt); }				
			}
			#file-input-label { display: inline-block; width: 80%; }
			#load-custom-btn { display: none; }

			.inputfile { width:0.1px;height:0.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1; }
			.inputfile + label { 
				font-weight:400;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;margin-left:0.25rem;
				padding:0.375rem;line-height:1.5;font-size:1rem;border-radius:.25rem;border:1px solid var(--sep-border);text-align:center;
			}
			.inputfile.closed + label { display:none; }
			.inputfile + label svg { width:1em;height:1em;vertical-align:middle;fill:currentColor;margin-top:-0.25em;margin-right:0.25em; }
		}
	}

	.searchwidget{
		position:absolute;bottom:1.5rem;left:1rem;box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2);border-radius:.25rem;
		padding:0.625rem;z-index:11000;font-size:1rem;min-width:15rem; background-color:var(--primary-bg); color:var(--secondary-text);
		input { border:none; padding:0; vertical-align:middle; width:12.5rem; color:var(--primary-text); }
		.fa-search { vertical-align:middle;}
		.fa-times-circle { text-align:right; vertical-align:middle; color:var(--primary-text); opacity: 0.6;}
		.fa-times-circle:hover { cursor:pointer; color:var(--primary-text); opacity: 1;}
	}
	
	#searchbar { font-size: 1rem; font-weight: 400; line-height: 1.5; vertical-align: middle; -webkit-appearance: none; -moz-appearance: none; color: var(--primary-text); background-color: var(--primary-bg); } 

	#time-slider {
	    z-index:11000;position:absolute;bottom:1.25rem;left:18rem;width:calc(100% - 18rem - 7rem);padding:0.375rem 0; display:block; min-width:14rem;
		.drbar-container{--slider-color:#FFFFFF;--range-color:#eeeeee;--bg-color:#aaaaaa44;--slider-active:#4d34db;--range-active:#5da8d6;
			--slider-wh:20px;--range-thick:15px;--bg-thick:10px;--mini-thick:4px;--mini-ratio:calc(4/15);}
		.drbar-container.drbar-small{--slider-wh:12px;--range-thick:10px;--bg-thick:6px;--mini-thick:4px;--mini-ratio:calc(4/10);}
		.drbar-container.drbar-large{--slider-wh:25px;--range-thick:20px;--bg-thick:12px;--mini-thick:6px;--mini-ratio:calc(6/20);}
		.drbar-container.drbar-huge{--slider-wh:32px;--range-thick:24px;--bg-thick:16px;--mini-thick:8px;--mini-ratio:calc(8/24);}
		.drbar-container, .drbar-container .drbar-bg, .drbar-container .drbar-slider, .drbar-container .drbar-range{
			user-select:none;touch-action:none;-webkit-user-drag:none;-webkit-user-select:none;-webkit-touch-callout:none;}
		.drbar-container .drbar-slider{box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2);width:var(--slider-wh);height:var(--slider-wh);
			border-radius:50%;z-index:2;transition:background-color 400ms,transform 400ms,opacity 200ms;}
		.drbar-container .drbar-slider:not(:active){background-color:var(--slider-color);}
		.drbar-container .drbar-slider:active{background-color:var(--slider-active);transform:scale(1.1);transition:transform 100ms;}
		.drbar-container.drbar-minimizes:not(:hover) .drbar-slider{transform:scale(0.25);opacity:0;}
		.drbar-container .drbar-range{cursor:move;z-index:1;transition:background-color 400ms,transform 400ms,opacity 400ms;}
		.drbar-container.drbar-horizontal .drbar-range{height:var(--range-thick);border-radius:2px/50%;}
		.drbar-container.drbar-vertical .drbar-range{width:var(--range-thick);border-radius:50%/2px;}
		.drbar-container .drbar-range:not(:active){background-color:var(--range-color);}
		.drbar-container .drbar-range:active{background-color:var(--range-active);}
		.drbar-container.drbar-horizontal.drbar-minimizes:not(:hover) .drbar-range{transform:scaleY(var(--mini-ratio));opacity:0.5;}
		.drbar-container.drbar-vertical.drbar-minimizes:not(:hover) .drbar-range{transform:scaleX(var(--mini-ratio));opacity:0.5;}
		.drbar-container.drbar-horizontal .drbar-bg{height:var(--bg-thick);cursor:ew-resize;}
		.drbar-container.drbar-vertical .drbar-bg{width:var(--bg-thick);cursor:ns-resize;}
		.drbar-container .drbar-bg::before{content:'';display:block;position:absolute;border-radius:calc(var(--bg-thick)/2);z-index:0;
			background:var(--bg-color);transition:background-color 400ms,height 400ms,width 400ms,opacity 400ms;}
		.drbar-container.drbar-horizontal .drbar-bg::before{top:50%;width:100%;height:var(--bg-thick);transform:translateY(-50%);}
		.drbar-container.drbar-horizontal.drbar-minimizes:not(:hover) .drbar-bg::before{height:var(--mini-thick);opacity:0;}
		.drbar-container.drbar-vertical .drbar-bg::before{left:50%;width:var(--bg-thick);height:100%;transform:translateX(-50%);}
		.drbar-container.drbar-vertical.drbar-minimizes:not(:hover) .drbar-bg::before{width:var(--mini-thick);opacity:0;}	
		#timer-lower-value{float:left;font-size:0.8rem;border-radius:0.25rem;padding:0.5rem;color:var(--secondary-text);background:var(--primary-bg);text-align:center;width:5rem;box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2);}		
		#time-control-wrap { float:left; width: calc(100% - 14rem); margin:0 1rem; position:relative;}
		#timer-upper-value { float:left; font-size:0.8rem; border-radius:0.25rem; padding:0.5rem;color:var(--secondary-text);background:var(--primary-bg); text-align:center; width:5rem; box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2); }
		#time-control { height:2rem; width: 100%; } 
		.drbar-container{--slider-color:var(--primary-bg);--range-color:var(--m-grey);--bg-color:var(--primary-bg-trans-2);--slider-active:var(--m-purple-bright);
			--range-active:var(--m-purple-bright);}
	}
	
	#mapmenu { 
		position:absolute; bottom:1.5rem;right:0.8rem;box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2);border-radius:.25rem; background:var(--primary-bg);
		padding:.375rem .25rem .375rem .25rem;z-index:11010;
		i { 
			padding:0 .375rem;font-size:1.5rem;line-height:1.25;cursor:pointer;opacity:0.6; display:inline-block;
			&:hover { opacity:1;}
		}
	}
	
	#mapmenu-window { 
		position:absolute; height: calc(100% - 3rem); top:1rem; right:0.8rem;box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2);border-radius:.25rem; z-index:13000;padding:0.5rem 1rem;font-size:1.5rem;width:15rem;line-height:1.5; overflow: scroll;background:var(--primary-bg-trans);
		h3 {font-size:1rem;text-transform:none;margin:0 0 0.5rem 0;padding:0;font-weight:normal; color:var(--tertiary-text);}
		.close-mapmenu { display:block; position:absolute; top:0.5rem; right: 0.5rem; cursor:pointer; opacity:0.6; font-size: 1rem;}
		.close-mapmenu:hover { opacity:1;}
	
		#basemap-chooser { 
			font-size:0.8rem; width:100%; color:var(--main-text); background-color: var(--controls-bg);
			border:thin solid var(--sep-border); border-radius:4px;display:inline-block;line-height:1.5em;padding:0.5em 3.5em 0.5em 1em; margin: 0;      
			-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;
			background-image: linear-gradient(45deg,transparent 50%,gray 50%),linear-gradient(135deg,gray 50%,transparent 50%),linear-gradient(to right,#ccc,#ccc);
			background-position: calc(100% - 16px) calc(1em + 1px),calc(100% - 11px) calc(1em + 1px),calc(100% - 2.5em) 0.5em;
			background-size: 5px 5px,5px 5px,1px 1.5em;
			background-repeat: no-repeat;
		}
		#basemapselect { 
			margin-bottom:1rem; 
			h3 { margin-bottom:0;}
		}
	}
	
	#datalayers, #supplycategories, #liveobjects { margin-top:0.5rem; margin-bottom:1rem; padding-top:0.5em; border-top: thin solid var(--sep-border);}
	#datalayers {
		#datalayers-description { font-size:0.8rem;}
		.dl-type {     
		    padding:0rem 0.5rem;border-radius:0.5rem;text-transform:uppercase;font-size:0.6rem;border:1px solid;opacity:0.75;
			&.geojson { background: #d8e2dc; border-color: #acb4b0; }
			&.pmtile { background: #fec5bb; border-color: #cb9d95; }		
		}
	}
	#load-datalayers-row { display:flex; margin-top:1rem;}
	#load-datalayers-input { width:100%; font-size: 0.8rem; font-weight: 400; line-height: 1.5; vertical-align: middle; border:thin solid var(--sep-border); border-radius:0.25rem; padding: 0.2rem; color:var(--primary-text); background-color:var(--controls-bg);}
	#load-datalayers-btn { 
		color:var(--tertiary-text); cursor:pointer; font-size:0.8rem; line-height:1.5; -webkit-appearance: none; -moz-appearance: none; background:none; border:none; padding:0 0 0 0.5rem; margin:0;
		&:hover { color:var(--primary-text);}
	}
	#liveobjects #liveobjectlist { 
		list-style:none; padding:0; font-size:0.8rem;
		li { border:thin solid #ccc; padding:0.2rem 0.2rem 0.2rem 2rem; cursor:pointer; border-radius:.25rem;	
			background:#f5f5f5;
			background-image:url("../images/markers/boat.webp"),linear-gradient(to right,rgba(33,150,243,1),rgba(33,150,243,1)),linear-gradient(to right,rgba(245,245,245,1),rgba(245,245,245,1));background-size:1rem 1rem,1.5rem auto,auto auto;background-repeat:no-repeat,no-repeat,repeat;
			background-position:0.25rem center,0,1.5rem;
			&:hover {
				background: #f5f5f5;	
				background-image: url("../images/markers/boat.webp"), linear-gradient(to right, rgba(33, 150, 243, 1), rgba(33, 150, 243, 1)), linear-gradient(to right, rgba(255, 255, 255, 1), rgba(255, 255, 255, 1));
			    background-size:1rem 1rem,1.5rem auto,auto auto;background-repeat:no-repeat,no-repeat,repeat;background-position:0.25rem center,0,1.5rem;
			}
		}
	}

	.layerrow { display:flex; }
	.layercontainer { font-size:0.8rem; text-overflow:ellipsis; white-space: nowrap; overflow: hidden; color:var(--secondary-text); }
	.layercontainer, .supplycatheader, .supplycat, .nodelineheader { cursor: pointer; font-size: 0.8rem; user-select: none; }
	.layercontainer input, .supplycatheader input, .supplycat input, .nodelineheader input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }	
	.layercheckmark, .chaincheckmark, .supplycatcheckmark, .nodelinecheckmark { color:var(--secondary-text); padding:0.1rem; border-radius:0.2rem; font-size:0.6rem; border:1px solid var(--sep-border);}
	.layercheckmark i, .chaincheckmark i, .supplycatcheckmark i, .nodelinecheckmark i { width:0.8rem; text-align:center;}
	.layercontainer:hover input ~ .layercheckmark, .supplycatheader:hover input ~ .chaincheckmark, .supplycat:hover input ~ .supplycatcheckmark, .nodelineheader:hover input ~ .nodelinecheckmark { background-color: var(--primary-bg); }
	.layercontainer input:checked ~ .layercheckmark, .supplycat input:checked ~ .supplycatcheckmark, .nodelineheader input:checked ~ .nodelinecheckmark { background-color: var(--controls-bg); }
	.layercontainer input:checked ~ .layercheckmark i:before, .supplycatheader input:checked ~ .chaincheckmark i:before, .supplycat input:checked ~ .supplycatcheckmark i:before, .nodelineheader input:checked ~ .nodelinecheckmark i:before { content:"\f00c";  }
	.layercontainer .layercheckmark i:before, .supplycatheader .chaincheckmark i:before, .supplycat .supplycatcheckmark i:before, .nodelineheader .nodelinecheckmark i:before { content:" "; }
	.supplycatheader input:checked ~ .chaincheckmark {color: var(--overlay-text); background-color: #2196F3; }	
	.supplycat, .nodelineheader { text-overflow:ellipsis; white-space: nowrap; overflow: hidden; color:var(--tertiary-text);}	
	.supplycatcheckmark, .nodelinecheckmark { }
	.supplycatheader { font-size:0.8rem; text-overflow:ellipsis; white-space: nowrap; overflow: hidden; color:var(--secondary-text); border-color: var(--sep-border); }
	.supplycatgroup { 
		border: thin solid var(--sep-border); border-radius: 0.25rem; padding: 0.2rem; background: var(--controls-bg); 
		.supplytoggle { 
			font-size: 0.8rem; color: var(--tertiary-text); margin-left:0.25rem; cursor:pointer;
			.fa-plus-circle:before { content: "\f056"; }
			&.plus{.fa-plus-circle:before{content:"\f055";}}
			&:hover { color: var(--primary-text);}
		}
	}
	.supplycatgroup + .supplycatgroup { margin-top:0.25rem;}
	.supplyrow{display:flex;justify-content:space-between;&:empty{display:none;}}
	.supplycatsub{padding-top:0.2rem;.supplyrow{padding:0.1rem 0 0.1rem 0.25rem;}}
	
	#fullscreen-menu {
		position:absolute;bottom:1.5rem;right:3.8rem;box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2); background:var(--primary-bg);
		border-radius:.25rem;padding:.375rem .25rem .375rem .25rem;z-index:11010;
		i {
			padding:0 .375rem;font-size:1.5rem;line-height:1.25;cursor:pointer;opacity:0.6;display:inline-block;
			&:hover { opacity:1; }
		}
	}
	#mapcapture {
		position:absolute;top:5.75rem;right:0.8rem;box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2); background:var(--primary-bg);
		border-radius:.25rem;padding:.375rem .25rem .375rem .25rem;z-index:9000;
		i { 
			padding:0 .375rem;font-size:1.5rem;line-height:1.25;cursor:pointer;opacity:0.6;display:inline-block;
			&:hover{opacity:1;}
		}
	}

	#colorscheme-switch {
	  position:absolute;display:inline-block;width:30px;height:17px; top:9rem; right:0.8rem; z-index:9000;
	  input{opacity:0;width:0;height:0;}
	  input:checked + .slider{background-color:#111;}
	  input:focus + .slider{box-shadow:0 0 1px var(--controls-bg);}
	  input:checked + .slider:before{-webkit-transform:translateX(13px);-ms-transform:translateX(13px);transform:translateX(13px);}
	  .slider {
		  position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#eee;-webkit-transition:none;transition:none;box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2);
	  	&.round{ border-radius:17px; &:before{border-radius:50%;}}
		&:before {
		  position:absolute;content:"";height:13px;width:13px;left:2px;bottom:2px;background-color:var(--primary-bg);-webkit-transition:none;transition:none;box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2);
		}
	  }
  	  &.animated .slider{-webkit-transition:.4s;transition:.4s;&:before{-webkit-transition:.4s;transition:.4s;}}
	}
	
	#messages {position:absolute;bottom:1.5rem;left:18rem; padding:0.625rem 1rem; width: calc(100% - 18rem - 9rem); border-radius: 0.25rem; z-index:11000;font-size:1.2rem; background:rgba(0,0,0,0.6); box-shadow:0.1rem 0.1rem rgba(0,0,0,0.2); color: #fff;
		#messages-text { line-height:1.5rem; margin:0; padding:0; }
	}

	/* Leaflet */
	.leaflet-left .leaflet-control {margin-left: 1rem; }
	.leaflet-control-layers { color: var(--secondary-text); background-color: var(--primary-bg); }
	.leaflet-touch .leaflet-control-layers, .leaflet-touch .leaflet-bar { border:none; box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2); border-radius:0.25rem; }
	.leaflet-container .leaflet-control-attribution {border-radius:0.25rem; right:0.8rem; font-size:0.6rem; }
	.leaflet-control-attribution{background:var(--primary-bg-trans-2);}
	.leaflet-control-zoomhome {
	    background: var(--primary-bg);		
		a {
			color:var(--main-text);opacity:0.6;border-bottom:1px solid var(--sep-border);
			&:hover { opacity: 1; }
			&.leaflet-disabled { opacity:0.2;}
		}
	}
	
	.leaflet-popup-content-wrapper { padding:0;overflow-y:auto;max-height:25rem; background: var(--primary-bg-trans); color: var(--secondary-text); }
	.leaflet-popup-tip { background: var(--primary-bg-trans); color: var(--secondary-text); }
	.leaflet-popup-content { 
		margin:1rem; 
		blockquote{margin-left:0;margin-right:0;padding-left:0.4rem;padding-right:0.4rem;border-left:0.2rem solid #ccc;}
		ul { padding-left:1rem; font-size:0.9rem;}
		h2 { 
			margin:0 -1rem 1rem -1rem; padding:1rem; text-stroke: 1px rgba(0,0,0,0.6); background-blend-mode: multiply; color:var(--tertiary-text);background:var(--alt-bg-1);
			&.poptitle { margin:-1rem -1rem 1rem -1rem; padding:1rem; border-radius:0.5rem 0.5rem 0 0; color:var(--tertiary-text);background:var(--alt-bg-1); }
			&.poptitle.cluster { margin-bottom:0; }
			&.popuphop { margin: -1rem; padding: 1rem; text-align:center;}
		}
		img { max-width:100%;}
		.popuplink, .popupselect { 
			padding:0 0 1rem 0;
			h2 span{cursor:pointer;&:hover{text-decoration:underline;}}
		}
		.node-description { margin:0.25rem 0; line-height:1.1rem; font-size:0.9rem;
			p { margin:0.5rem 0 0.5rem 0;}
			blockquote{margin-left:0;margin-right:0;padding-left:0.4rem;padding-right:0.4rem;border-left:0.2rem solid var(--sep-border);}
		}
		.node-images-wrap {
			margin:0.8rem 0;
			&:not(:has(*)) { margin:0; }
			.node-images { height: calc(100vh / 4); margin:-1rem -1rem 0 -1rem; position:relative; background:#000;
				&.cluster { margin:auto;
					.ftimg { border: 1px solid #ccc; border-radius:0.25rem;}
 					&.multiple{border-radius:0.25rem 0.25rem 0 0;.ftimg{border-radius:0.25rem 0.25rem 0 0;}}
				}
				.ftimg { 
						object-fit:cover; object-position:center center; height:0; min-height:100%; width:100%; cursor:zoom-in; display:none; border-radius: 0;
						&:first-child{ display:block;}
				 }
				 
			}
			.images-caption { 
				text-overflow:ellipsis;white-space:nowrap;display:inline-block;overflow:hidden;height:auto;width:100%;font-size: 0.8rem;padding: 0.4rem 0 0 0; color:var(--tertiary-text);
				&:empty { display:none; }}
			.images-controls { 
				display:flex;align-items:center;justify-content:center;background:var(--alt-bg-1);border:1px solid var(--sep-border);border-radius:0 0 0.2rem 0.2rem; margin:auto -1rem; 
				&.cluster { margin:auto; width:100%; }
			}
			
			.images-box { position:relative; display: flex; align-items: center; justify-content: center; width:22rem; margin:0 auto; padding: 0 0; flex-basis:22rem; flex-wrap:wrap;
				.images-spot { font-size:0.6rem; margin:auto 0.2rem; cursor:pointer; padding: 0.2rem 0; color:var(--primary-text); opacity:0.6;
					&:hover { opacity:1; .fa-circle:before { content: "\f192"; } }
					&.selected { .fa-circle:before { content: "\f192"; } }
				}
			}
			.images-button { overflow:auto; padding:0 0.5rem; font-size:1.5rem; border:none; background:var(--alt-bg-1); color:var(--primary-text); opacity:0.6;
				&:hover { cursor:pointer; opacity:1; }
			}
		}
	}
	.leaflet-tooltip { border-radius: 0; border:none;
		div.mtooltip { 
			border-radius: 0.25rem; border:2px solid var(--controls-bg);line-height:0.8rem; margin: -7px; padding: 0.5rem; 
			text-align:center; white-space: normal; width: max-content; max-width: 20rem; 
		}
	}
	#tooltip-geojson {
		position:absolute; z-index:15000; 
		border-radius: 0.25rem; border:2px solid var(--controls-bg);line-height:0.8rem; padding: 0.5rem; 
		text-align:center; white-space: normal; width: max-content; max-width: 20rem; font-size:0.8rem;
		background:var(--controls-bg); color: var(--secondary-text); margin-top:calc(-0.525rem - 2px);
	}
	.leaflet-tooltip-top:before { border-top-color:var(--controls-bg);}
	.leaflet-tooltip-bottom:before { border-bottom-color:var(--controls-bg);}
	.leaflet-tooltip-left:before { border-left-color:var(--controls-bg);}
	.leaflet-tooltip-right:before  { border-right-color:var(--controls-bg);}

	.leaflet-popup-content { min-width:22rem; }
	.clusterbox h2 { }
	
	/* Manifest Splash */
	.leaflet-popup.pop-intro {
		.leaflet-popup-content-wrapper{padding:1rem;overflow:hidden;background:var(--primary-bg);color:var(--secondary-text);}
		.leaflet-popup-tip {background: var(--primary-bg);}
		.leaflet-popup-content { width:max-content !important; }
		.poptitle { border-bottom: 1px solid var(--bright-border); font-size:2rem; padding: 2rem; margin: -2rem -2rem 0 -2rem; background:var(--m-purple-bright); color:var(--overlay-text); }
	}
	
	#mlist-1029261216 #node_10292612160000 {
		p, ul, img {display:none;}
		.node-description {
			font-size: 0.9em; padding: 0.2rem 0; margin: 0; color:var(--secondary-text);
			&:after { content:"Manifest is an investigative toolkit intended for researchers, journalists, students, and scholars interested in visualizing, analyzing, and documenting supply chains, production lines, and trade networks.";}
		}
	}

	#intro-content{display:flex;}
	#intro-main { width:20rem; padding:1rem 1rem 1rem 0; height: 16.5rem;}
	#intro-readme {
		width:10rem;padding:0.5rem 1rem;height:calc(16.5rem + 4.25rem);margin-right:-2rem;overflow-y:scroll;border-radius:0 0 0.75rem 0;background:var(--m-intro-secondary);
		h2 {padding:0.5rem 1rem 0 1rem;background:none;}
		h2:nth-child(n+2) {border-top:1px solid var(--m-grey-border);}
		h3 {padding:0;}
	}
	
	#intro-logo {width:2rem;height:2rem;background:url("../images/logo.svg") no-repeat;margin:0 0 -0.5rem 0;display:inline-block;}
	#intro-version {position:absolute;right:1rem;top:2.25rem;color:#ccc;}
	#intro-content-log ul { list-style:none; margin:0; padding:0;}
	#intro-content-log ul li { margin-bottom:1rem;}
	
	.fa-tag { cursor:pointer; }
	.fa-tag:hover { filter: brightness(120%); }
	
	
	#footer-badge { display:none; }

	/* Animations */
	@-webkit-keyframes fadeIn { from { opacity: 0; } to { opacity: 1; }}
	@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; }}
}

/* Compressed/Mobile Styles */
@media only screen and (max-device-width: 920px) { 
	body {  
		&.storymap { 
			#manifestlist .mtitle { font-size:2rem; padding-top: 6rem; padding-bottom: 2rem;}
			#manifestlist .mtitle { background-position:center center;}
		}
		&:is(.storymap, .embedmap) { #colorscheme-switch {display:none;} }
		&:not(.storymap, .embedmap) {
			display: flex; flex-flow: column wrap; width:100vw; min-width:100vw; max-width:100vw; 
			#mapmenu, #mapcapture, #fullscreen-menu, .leaflet-control-layers, #mapcapture, .leaflet-control-zoomhome, .leaflet-control-attribution, .fulltext, .fas.closemap, .leaflet-left .leaflet-control, .leaflet-popup-pane, .leaflet-tooltip-pane, .footer, .share-button, #time-slider {display:none;}
	
			#manifestbar { position: absolute; width:calc(100% - 1rem); display:block; margin:0.5rem; padding:0; border-radius:0.5rem; border:none; z-index:13000; overflow-x:scroll;
				#minfoheader { background:#4d34db;position:sticky;top:0;padding:0.75rem 1rem;margin:0;}
				#minfodetail { padding:0.1rem 1rem 1rem 1rem; margin:0; box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2);}
				&.open { height:calc(100% - 1rem);max-height:calc(100% - 1rem); #minfodetail { height:100%; }}
			} 
			#loadlistpanel #loadlist-group-samples #samples-previews.open:not(.scroll), #loadlistpanel #loadlist-group-samples #samples-previews.open.scroll { 
			    width: calc(100% - 4rem);
			}
			#view-wrapper { 
				position: absolute; top:0; height: 100%; width: 100%; display: block; outline:none;
				#map { position: relative; top:0; height: 100%; width: 100%; display: block; outline:none;}
				.vizmenu { top: 4rem; right:0.5rem; background:none; box-shadow:none;
					.vizmenu-entry { margin-left:0.5rem; }
					.label-title { display:none; }
					.vizmenu-label { border:none; background:none;}
					#viz-choices, #measure-choices {
						background:var(--m-grey);border:1px solid var(--m-grey-border); color:var(--secondary-text);
						text-align:center; text-align-last: center; padding:0.25rem; line-height:1rem;
						box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2); border-radius: 1rem; 
						option { text-align:center; text-align-last: center; }
					}
				}
				.searchwidget {
					top:4rem; left:0.5rem; bottom:auto;
					font-size:0.8rem;
					background:var(--m-grey);border:1px solid var(--m-grey-border); color:var(--secondary-text);
					text-align:center; line-height:0.8rem;
					box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2); border-radius: 1rem;
					padding:0.25rem;
					min-width:auto;
					input { width:auto;}
					#searchbar { line-height: 1rem; font-size: 0.8rem; background:var(--m-grey); color:var(--secondary-text);}
				}
			}
			#sidewrap { position: absolute; width: 100%; display:block; margin:0; padding:0;border-radius:0; border:none; box-shadow:none; background:transparent; top: calc(60% + 3.5rem); height: calc(40% - 3.5rem); 
				#sidepanel { position: relative; width: calc(100% - 1rem); display:block; margin:0 0.5rem 0.5rem 0.5rem; padding:0;border-radius:0.5rem; border:none; box-shadow:none; top:0; height: calc(100% - 0.5rem); box-shadow: 0.1rem 0.1rem rgba(0,0,0,0.2);
					ul, li { overflow:hidden; }	
				} 
				&.top { top: 6.5rem; height: calc(100% - 6.5rem); transition:top 0.25s ease; } 
				&.middle { top: calc(60% + 3.5rem); height: calc(40% - 3.5rem); max-height:100%;transition:top 0.25s ease; } 
				&.bottom { top: calc(100% - 3.9rem); height: 3.9rem; transition:top 0.25s ease; }
			}
			#colorscheme-switch { top:1.5rem; z-index:13000;}

			.mtitle { height:1.4rem; border-color: var(--alt-bg-1); } 
			.node-details, .node-title, .node-place { display:inline; margin-right:0.5rem;}

			#manifestlist .mnode {padding:0.5rem 0.5rem;border-bottom:0.5px solid var(--sep-border);width:calc(100% - 1rem);margin:0 auto;overflow:hidden; color:var(--secondary-text);  border-color: var(--sep-border); }
			#manifestlist .node-sources ol p { margin:0; }
			#manifestlist .mdescription { padding:1rem 0.5rem;}
			#messages {position:absolute;left:0; bottom:0; background:rgba(0,0,0,0.8); padding:1rem;z-index:11000;font-size:1rem; margin:0.5rem; width:calc(100% - 3rem); display:block;}
			#textview .container { font-size:1rem;}	
		}
	}
}

@media only screen and (min-device-width: 768px) and (max-device-width: 920px) { 
	body:not(.storymap, .embedmap) 
	{
		#sidewrap {
			width:40%;top:calc(4.5rem);height:calc(100% - 5.5rem);
			#sidepanel{height:100%;}
			&.top { top:calc(4.5rem);height:3.5rem; } 
			&.middle { top:calc(4.5rem);height:calc(100% - 5.5rem); } 
			&.bottom { top: calc(100% - 4.5rem); height: 3.5rem; }
    	}
		#manifestlist .mnode .node-place{display:block;}
	    #view-wrapper {
			.vizmenu{top:calc(1.5rem - 0.25rem - 1px);right:3.5rem;z-index:13000;}
			.searchwidget {
				top:auto;right:0.5rem;z-index:12000;bottom:1rem;left:auto;padding:0.175rem 0.25rem;
				#searchbar{font-size:1rem;}
			}
		}
		#manifestbar{max-height:calc(100% - 1rem);}	
	}
}
